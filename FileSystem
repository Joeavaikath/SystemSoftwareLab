#include<stdio.h>
#include<string.h>
void singled()
{
        int i;
        char f[20];
        struct
        {
                char dname[10],fname[10][10];
                int fcnt;
        }dir;
        int ch,flag=0;
        printf("Enter the name of the directory: ");
        scanf("%s",dir.dname);
        dir.fcnt=0;
        while(1)
        {
                printf("\n\tMENU\n\nEnter the operation to be performed:\n1)Create a file \n2)Delete a file\n3)Search a file\n4)Display all files\n5.Exit");
                scanf("%d",&ch);
                switch (ch)
                {
                        case 1:printf("\nEnter the name of the file :   ");
                                scanf("%s",f);
                                for(i=0;i<dir.fcnt;i++)
                                  {
                                          if(strcmp(f,dir.fname[i])==0)
                                          {
                                                 printf("\nThe file already exists");
                                                 flag=1;
                                                 break;
                                          }
                                  }
                                if(flag!=1)
                                {
                                        strcpy(dir.fname[dir.fcnt],f);
                                        dir.fcnt++;
                                }
                                break;
                        case 2:printf("\nEnter the name of the file to be deleted:");
                                scanf("%s",f);
                                for(i=0;i<dir.fcnt;i++)
                                {
                                        if(strcmp(f,dir.fname[i])==0)
                                        {
                                                printf("\nThe file has been deleted");
                                                strcpy(dir.fname[i],dir.fname[dir.fcnt-1]);
                                                break;
                                        }
                                }
                                if(i==dir.fcnt)
                                {
                                        printf("\nFile was not found");
                                }
                                else
                                        dir.fcnt--;
                                break;
                        case 3:printf("\nEnter the name of the file to be searched for: ");
                                scanf("%s",f);
                                for(i=0;i<dir.fcnt;i++)
                                {
                                         if(strcmp(f,dir.fname[i])==0)
                                         {
                                                  printf("\nThe file has been found!");
                                                  flag=1;
                                                  break;
                                         }
                                }
                                if(flag!=1)
                                        printf("\nFile was not found in the directory");
                                break;
                        case 4:printf("\nDisplaying the file names: \n");
                                if(dir.fcnt==0)
                                {
                                        printf("\nNo files in directory");
                                        break;
                                }
                                for(i=0;i<dir.fcnt;i++)
                                        printf("%s\n",dir.fname[i]);
                                break;
                        case 5:exit(0);
                }
        }

}


void main()
{
int c;

printf("Enter the choice:\n\n1)Single Level Directory\n2)Two level directory\n3)Hierarchical\n");
scanf("%d",&c);

switch (c)
{
        case 1:printf("\nImplementing single level directory\n");
               singled();
                break;
//      case 2:printf("
}
}
